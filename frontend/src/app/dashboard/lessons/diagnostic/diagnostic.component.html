<div class="session-container">
  <!-- –í–∏–¥–µ–æ –≤ —Ü–µ–Ω—Ç—Ä–µ -->
  <div class="video-call">
    <p>üìπ –í–∏–¥–µ–æ –∑–≤–æ–Ω–æ–∫ –∑–¥–µ—Å—å</p>
  </div>

  <!-- –í—Ä–µ–º—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É -->
  <div class="session-timer">
    {{ currentTime }}
  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ "–ó–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ" –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É -->
  <button class="end-session-btn" (click)="endSession()">
    –ó–∞–∫–æ–Ω—á–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ
  </button>

  <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å —Ä–µ—á–µ–≤—É—é –∫–∞—Ä—Ç—É -->
  <button class="toggle-form-btn" (click)="toggleSpeechCard()">
    {{ showSpeechCard ? '–°–∫—Ä—ã—Ç—å —Ä–µ—á–µ–≤—É—é –∫–∞—Ä—Ç—É' : '–û—Ç–∫—Ä—ã—Ç—å —Ä–µ—á–µ–≤—É—é –∫–∞—Ä—Ç—É' }}
  </button>

  <!-- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–∞–Ω–µ–ª–∏ -->
  <ng-container *ngIf="showSpeechCard">
    <div class="speech-card-panel" @slideInOut>
      <form>
        <h3>–†–µ—á–µ–≤–∞—è –∫–∞—Ä—Ç–∞</h3>

        <label>1. –§–ò–û –æ–±—Å–ª–µ–¥—É–µ–º–æ–≥–æ:</label>
        <input type="text" [(ngModel)]="speechCard.fullName" name="fullName">

        <label>–í–æ–∑—Ä–∞—Å—Ç:</label>
        <input type="text" [(ngModel)]="speechCard.age" name="age">

        <label>2. –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>
        <input type="text" [(ngModel)]="speechCard.dateOfBirth" name="birthDate">

        <label>3. –ü—Ä–∏—á–∏–Ω–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è:</label>
        <textarea [(ngModel)]="speechCard.reason" name="reason"></textarea>

        <label>4. –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–ª—É—Ö–∞, –∑—Ä–µ–Ω–∏—è:</label>
        <textarea [(ngModel)]="speechCard.stateOfHearning" name="senses"></textarea>

        <label>5. –•–æ–¥ —Ä–µ—á–µ–≤–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è:</label>
        <textarea [(ngModel)]="speechCard.anamnesis" name="speechDev"></textarea>

        <label>6. –û–±—â–∞—è –º–æ—Ç–æ—Ä–∏–∫–∞:</label>
        <textarea [(ngModel)]="speechCard.generalMotor" name="motor"></textarea>

        <label>7. –ú–µ–ª–∫–∞—è –º–æ—Ç–æ—Ä–∏–∫–∞:</label>
        <textarea [(ngModel)]="speechCard.fineMotor" name="fineMotor"></textarea>

        <label>8. –ê—Ä—Ç–∏–∫—É–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–ø–ø–∞—Ä–∞—Ç:</label>
        <textarea [(ngModel)]="speechCard.articulatory" name="articulation"></textarea>

        <label>9. –û–±—â–µ–µ –∑–≤—É—á–∞–Ω–∏–µ —Ä–µ—á–∏:</label>
        <textarea [(ngModel)]="speechCard.soundReproduction" name="speechSounding"></textarea>

        <label>10. –ó–≤—É–∫–æ–ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ,–§–æ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π —Å–ª—É—Ö –∏ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ:</label>
        <textarea [(ngModel)]="speechCard.soundComponition" name="pronunciation"></textarea>

        <label>11. –û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ —Ä–µ—á–∏:</label>
        <textarea [(ngModel)]="speechCard.speechChars" name="speechChar"></textarea>

        <label>12. –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è–º:</label>
        <textarea [(ngModel)]="speechCard.patientChars" name="childObs"></textarea>

        <label>13. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–æ–ø–µ–¥–∞:</label><br>
        <div class="speech-errors-section">
          <label>–†–µ—á–µ–≤—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è:</label>

          <!-- –í—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ -->
          <select [(ngModel)]="selectedError" name="selectedError">
            <option [ngValue]="null">-- –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ --</option>
            <option *ngFor="let error of availableSpeechErrors" [ngValue]="error">
              {{ error.title }}
            </option>
          </select>

          <button type="button" (click)="addSpeechError()" [disabled]="!selectedError">
            ‚ûï –î–æ–±–∞–≤–∏—Ç—å
          </button>

          <!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö -->
          <ul>
            <li *ngFor="let error of speechCard.speechErrors; let i = index">
              {{ error.title }}
              <button type="button" (click)="removeSpeechError(i)">üóë</button>
            </li>
          </ul>
        </div>

        <!--        –¢–£–¢ –µ—Å—Ç—å —Ç–µ–≥–∏ br -->
        <label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏</label><br>
        <div class="correction-section">
          <label>–ó–≤—É–∫:</label>
          <select [(ngModel)]="newCorrection.sound" name="sound">
            <option *ngFor="let sound of availableSounds" [value]="sound">{{ sound }}</option>
          </select>

          <label>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏:</label>
          <select [(ngModel)]="newCorrection.correction" name="correction">
            <option *ngFor="let type of correctionTypes" [value]="type">{{ type }}</option>
          </select>

          <button type="button" (click)="addSoundCorrection()">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>

        <!-- –í—ã–≤–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞—Ä -->
        <ul>
          <li *ngFor="let item of speechCard.soundCorrections; let i = index">
            {{ item.sound }} ‚Äî {{ item.correction }}
            <button type="button" (click)="removeSoundCorrection(i)">–£–¥–∞–ª–∏—Ç—å</button>
          </li>
        </ul>
        <button type="button" (click)="saveSpeechCard()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

      </form>
    </div>
  </ng-container>

</div>
