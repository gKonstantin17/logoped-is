  <div class="tabs">
    <button [class.active]="selectedTab === 'lesson'" (click)="selectedTab = 'lesson'">–û—Å–Ω–æ–≤–Ω–æ–µ</button>
    <button [class.active]="selectedTab === 'about'" (click)="selectedTab = 'about'">–û –∑–∞–Ω—è—Ç–∏–∏</button>
    <button [class.active]="selectedTab === 'description'" (click)="selectedTab = 'description'">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
  </div>

  <div class="tab-content" *ngIf="lesson$ | async as lesson">
    <!-- –í–∫–ª–∞–¥–∫–∞: –û—Å–Ω–æ–≤–Ω–æ–µ -->
    <ng-container *ngIf="selectedTab === 'lesson'">
      <div class="lesson-row">

        <!-- –ë–ª–æ–∫ 1: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="lesson-info block">
          <p>
            –í—ã –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ –∑–∞–Ω—è—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–π–¥–µ—Ç
            {{ lesson.dateOfLesson | date: 'd MMMM –≤ HH:mm' }}
          </p>
          <p><strong>–¢–∏–ø:</strong> {{ lesson.type }}</p>
          <p><strong>–¢–µ–º–∞:</strong> {{ lesson.topic }}</p>
          <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ getStatusLabel(lesson.status) }}</p>
          <p><strong>–õ–æ–≥–æ–ø–µ–¥:</strong>  {{ lesson.logoped.firstName }} {{ lesson.logoped.lastName }}</p>
          <p><strong>–ü–∞—Ü–∏–µ–Ω—Ç—ã:</strong></p>
          <ul>
            <li *ngFor="let patient of lesson.patients">
              {{ patient.firstName }} {{ patient.secondName }}
            </li>
          </ul>
        </div>

        <!-- –ë–ª–æ–∫ 2: –ö–∞—Ä—Ç–∏–Ω–∫–∞ -->
        <div class="lesson-image block">
          <img src="assets/details/details_main.png" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ –∑–∞–Ω—è—Ç–∏—è" />
        </div>

        <!-- –ë–ª–æ–∫ 3: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div class="lesson-notice block">
          <div class="notice-top">
            <p>üì© –ó–∞ —á–∞—Å –¥–æ –∑–∞–Ω—è—Ç–∏—è –º—ã –ø—Ä–∏—à–ª—ë–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</p>
          </div>
          <div class="notice-bottom">
            <p>üéô –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Ä–∞–±–æ—Ç–∞—é—Ç –ª–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏ –∫–∞–º–µ—Ä–∞</p>
          </div>
        </div>

      </div>

      <!-- –ö–Ω–æ–ø–∫–∏ -->
      <div class="lesson-buttons">
        <button class="btn" *ngIf="(lesson.status === LessonStatus.STARTING_SOON || lesson.status === LessonStatus.IN_PROGRESS)
                                    && (lesson.type !== '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞' || currentRole === 'user')"
                (click)="openSession()">
          –û—Ç–∫—Ä—ã—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–∫
        </button>
        <button class="btn" *ngIf="lesson.status === LessonStatus.PLANNED"  (click)="showRescheduleModal = true">
          –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∑–∞–Ω—è—Ç–∏–µ
        </button>
        <button class="btn" *ngIf="lesson.status === LessonStatus.PLANNED"  (click)="cancelLesson()">
          –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ
        </button>
        <button class="btn" *ngIf="currentRole === 'logoped' && lesson.type === '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞'
              && (lesson.status === LessonStatus.STARTING_SOON || lesson.status === LessonStatus.IN_PROGRESS)"
                (click)="openDiagnostic()">
          –û—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
        </button>
      </div>

      <app-change-date-modal
        [visible]="showRescheduleModal"
        (close)="showRescheduleModal = false"
        (submit)="onReschedule($event)">
      </app-change-date-modal>
    </ng-container>



    <!-- –í–∫–ª–∞–¥–∫–∞: –û –∑–∞–Ω—è—Ç–∏–∏ -->
    <ng-container *ngIf="selectedTab === 'about'">
      <div class="block-row">
        <!-- –ë–ª–æ–∫: –õ–æ–≥–æ–ø–µ–¥ -->
<!--        <div class="block">-->
<!--          <h3>–õ–æ–≥–æ–ø–µ–¥</h3>-->
<!--          <p *ngIf="lesson.logoped">-->
<!--            {{ lesson.logoped.firstName }} {{ lesson.logoped.secondName }}<br>-->
<!--            Email: {{ lesson.logoped.email }}<br>-->
<!--            –¢–µ–ª–µ—Ñ–æ–Ω: {{ lesson.logoped.phone }}-->
<!--          </p>-->
<!--          <p *ngIf="!lesson.logoped">–õ–æ–≥–æ–ø–µ–¥ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</p>-->
<!--        </div>-->

        <!-- –ë–ª–æ–∫: –û–ø–∏—Å–∞–Ω–∏–µ -->
        <div class="block">
          <h3>–û–ø–∏—Å–∞–Ω–∏–µ</h3>
          <p>{{lesson.description}}</p>
        </div>

        <!-- –ë–ª–æ–∫: –ú–∞—Ç–µ—Ä–∏–∞–ª—ã -->
        <div class="block">
          <h3>–ü—Ä–∏–ª–∞–≥–∞–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</h3>
          <a href="http://www.google.com">–§–∞–π–ª</a>
        </div>
      </div>
    </ng-container>

    <!-- –í–∫–ª–∞–¥–∫–∞: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
    <ng-container *ngIf="selectedTab === 'description'">
      <div class="block-row">
        <div class="block results">
          <h3>–ò—Ç–æ–≥–∏</h3>

          <table class="results-table">
            <thead>
            <tr>
              <th>–ó–≤—É–∫</th>
              <th>–î–æ</th>
              <th>–ü–æ—Å–ª–µ</th>
              <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
            </tr>
            </thead>
            <tbody>
            <tr>
              <td>–°</td>
              <td>–Ω–µ–ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç</td>
              <td>–ø—Ä–æ–∏–∑–Ω–æ—Å–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ</td>
              <td>–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å</td>
            </tr>
            <tr>
              <td>–†</td>
              <td>–∏—Å–∫–∞–∂–∞–µ—Ç</td>
              <td>–Ω–µ—É—Å—Ç–æ–π—á–∏–≤–æ</td>
              <td>–¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞</td>
            </tr>
            <!-- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å *ngFor -->
            </tbody>
          </table>
        </div>

        <div class="block">
          <h3>–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</h3>
          <p *ngIf="lesson.homework">{{ lesson.homework.task }}</p>
          <p *ngIf="!lesson.homework">–ù–µ—Ç –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è</p>
        </div>
      </div>
    </ng-container>
  </div>
